<!DOCTYPE html>
<html lang="tr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>İlgi Alanlarım</title>

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />

    <link rel="stylesheet" href="assets/css/style.css" />
  </head>
  <body>
    <nav class="navbar navbar-expand-lg navbar-light bg-light shadow-sm">
      <div class="container">
        <a class="navbar-brand" href="index.html">Yunus Emre Kurnalı</a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNav"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav ms-auto">
            <li class="nav-item">
              <a class="nav-link" href="index.html">Hakkımda</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="cv.html">CV</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="sehrim.html">Şehrim</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="takimimiz.html">Takımımız</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="ilgialanlarim.html">İlgi Alanlarım</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="iletisim.html">İletişim</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="login.html">Giriş Yap</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <div class="container py-4">
      <!-- Oyunlar Bölümü -->
      <h2 class="section-title">En Sevdiğim Oyunlar</h2>
      <div class="row g-4 justify-content-center" id="gameContainer">
        <!-- Oyun kartları JS ile gelecek -->
      </div>

      <!-- Animeler Bölümü -->
      <h2 class="section-title">En Sevdiğim Animeler</h2>
      <div class="row g-4 justify-content-center" id="animeContainer">
        <!-- Anime kartları JS ile gelecek -->
      </div>
    </div>

    <footer class="bg-light py-4 mt-5 text-center">
      <div class="container">
        <p class="mb-3 mb-md-2">
          © 2025 Yunus Emre Kurnalı - Tüm hakları saklıdır.
        </p>
        <div class="d-flex justify-content-center align-items-center flex-wrap">
          <span class="text-muted mx-2">|</span>
          <a
            href="iletisim.html"
            class="text-decoration-none mx-2 text-dark fw-semibold"
            >İletişim</a
          >
          <span class="text-muted mx-2">|</span>
          <a
            href="login.html"
            class="text-decoration-none mx-2 text-dark fw-semibold"
            >Giriş Yap</a
          >
          <span class="text-muted mx-2">|</span>
        </div>
      </div>
    </footer>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

    <script>
      // Oyun listesi
      const games = [
        "The Elder Scrolls V: Skyrim",
        "Hollow Knight",
        "Elden Ring",
        "Stardew Valley",
        "The Witcher 3: Wild Hunt",
        "Red Dead Redemption 2",
      ];

      // Anime listesi (Jikan API'den çekilecek)
      const animes = [
        { title: "One Piece", mal_id: 21 },
        { title: "Bleach", mal_id: 269 },
        { title: "Naruto", mal_id: 20 },
        { title: "Hunter x Hunter", mal_id: 11061 },
        { title: "Erased", mal_id: 31043 },
        { title: "One Punch Man", mal_id: 30276 },
      ];

      const rawgApiKey = "3a82fe7fd57844feaa4ae1c5947d6074";

      // Oyun verisini RAWG API ile çek
      async function fetchGameData(gameName) {
        const response = await fetch(
          `https://api.rawg.io/api/games?search=${encodeURIComponent(
            gameName
          )}&key=${rawgApiKey}`
        );
        const data = await response.json();
        return data.results ? data.results[0] : null;
      }

      // Anime verisini Jikan API ile çek
      async function fetchAnimeData(mal_id) {
        const response = await fetch(
          `https://api.jikan.moe/v4/anime/${mal_id}`
        );
        const data = await response.json();
        return data.data || null;
      }

      // Oyunları göster
      async function displayGames() {
        const container = document.getElementById("gameContainer");
        for (const name of games) {
          const game = await fetchGameData(name);
          if (!game) continue;

          const col = document.createElement("div");
          col.className = "col-12 col-sm-6 col-md-4 col-lg-3 d-flex";

          const card = document.createElement("div");
          card.className = "card-custom flex-fill";

          card.innerHTML = `
        <img src="${game.background_image}" alt="${game.name}" />
        <div class="card-body-custom">
          <div class="card-title-custom">${game.name}</div>
          <div class="card-subtitle-custom">Metacritic: ${
            game.metacritic ?? "N/A"
          }</div>
        </div>
      `;

          col.appendChild(card);
          container.appendChild(col);
        }
      }

      // Animeleri göster
      async function displayAnimes() {
        const container = document.getElementById("animeContainer");
        for (const anime of animes) {
          const data = await fetchAnimeData(anime.mal_id);
          if (!data) continue;

          const col = document.createElement("div");
          col.className = "col-12 col-sm-6 col-md-4 col-lg-3 d-flex";

          const card = document.createElement("div");
          card.className = "card-custom flex-fill";

          card.innerHTML = `
        <img src="${data.images.jpg.large_image_url}" alt="${data.title}" />
        <div class="card-body-custom">
          <div class="card-title-custom">${data.title}</div>
          <div class="card-subtitle-custom">Score: ${data.score ?? "N/A"}</div>
        </div>
      `;

          col.appendChild(card);
          container.appendChild(col);
        }
      }

      // Sayfa yüklendiğinde verileri getir
      displayGames();
      displayAnimes();
    </script>
  </body>
</html>
